// Vertical Rhythms
// ----------------
// Test Vertical Rhythm calculations
// - Normal VR
// ================
$typi: (
  base: (
    null: (18px, 1.5),
    small: 20px,
    med: 22px,
    large: (24px, 1.6)
  ),
  h1: (
    null: (24px, 1.3),
    med: 2em,
    large: (3em)
  )
);

$basemap: map-get($typi, base);
$base-font-size: nth(map-fetch($typi, base null), 1);
$base-line-height: nth(map-fetch($typi, base null), 2);

@include test-module('Normal VR') {
  @include test('-> rem') {
    $test: vr-2(3);
    $result: $base-line-height * 3 * 1rem;
    @include assert-equal($test, $result);
  }

  @include test('px -> em') {
    $test: vr-2(3, 18px);
    $result: 3 * $base-font-size * $base-line-height / 18px * 1em;
    @include assert-equal($test, $result);

    $test2: vr-2(2, 30px);
    $result2: 2 * $base-font-size * $base-line-height / 30px * 1em;
    @include assert-equal($test2, $result2)
  }

  @include test('em -> em') {
    // Target = 2 * 1.5 * 1em = 3em
    // Context = 1.25em
    $test: vr-2(2, 1.25em);
    $result: 3em / 1.25em * 1em;
    @include assert-equal($test, $result);
  }
}